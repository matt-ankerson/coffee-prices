"use strict";angular.module("coffeePricingApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","visor"]).config(["visorProvider","$routeProvider",function(a,b){a.authenticate=function(a,b,c){var d=a.get("user");return d?(c.user=d,b.when(d)):b.reject(null)},a.doOnNotAuthorized=function(a,b){a.url("/access_denied?prevUrl="+encodeURIComponent(b))},b.when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",restrict:function(a){return void 0===a},controllerAs:"login"}).when("/main",{templateUrl:"views/main.html",controller:"MainCtrl",restrict:function(a){return!!a},controllerAs:"main"}).when("/access_denied",{templateUrl:"views/access_denied.html",controller:"AccessDeniedCtrl",controllerAs:"access_denied"}).otherwise({redirectTo:"/main"})}]).controller("NavCtrl",["$scope","$cookieStore","$rootScope","$route","visor","$location",function(a,b,c,d,e,f){a.$route=d,a.logout=function(){b.remove("user"),c.user=void 0,e.setUnauthenticated(),f.url("/home")}}]),angular.module("coffeePricingApp").controller("LoginCtrl",["$scope","visor","authService","$rootScope","$cookieStore",function(a,b,c,d,e){a.login=function(){if(c.credentialsValid(a.username,a.password)){var f={username:a.username};e.put("user",f),d.user=f,b.setAuthenticated(f)}}}]),angular.module("coffeePricingApp").controller("MainCtrl",["$scope","$cookieStore","$rootScope","$route","visor","$location",function(a,b,c,d,e,f){a.$route=d,a.logout=function(){b.remove("user"),c.user=void 0,e.setUnauthenticated(),f.url("/main")}}]),angular.module("coffeePricingApp").service("authService",["$q",function(a){this.username="username",this.password="password",this.credentialsValid=function(a,b){return this.username===a&&this.password===b?!0:!1}}]),angular.module("coffeePricingApp").run(["$templateCache",function(a){a.put("views/access_denied.html",'The url {{prevUrl}} is restricted. You are {{user?"logged in":"not logged in"}}.'),a.put("views/login.html",'<h2>Coffee Pricing</h2> <hr> <div class="panel panel-default" ng-controller="LoginCtrl"> <div class="panel-heading"> Login to see the latest trading prices. </div> <div class="panel-body"> <form> <div class="row"> <div class="col-md-12"> <br> <label for="username">Username</label> <input type="text" id="username" class="form-control" ng-model="username"> </div> <div class="col-md-12"> <br> <label for="password">Password</label> <input type="text" id="password" class="form-control" ng-model="password"> </div> <div class="col-md-12"> <br> <button type="submit" class="btn btn-success" ng-click="login()">Login</button> </div> </div> </form> </div> </div>'),a.put("views/main.html","<p>This is the main view.</p>")}]);